FROM centos:centos8.4.2105

WORKDIR /home/coding

MAINTAINER smiecj smiecj@github.com

ARG ROOT_PWD=root!centos123

ARG MODE=singleton
ARG PORT=2181

# RUN
RUN mkdir -p /home/coding && cd /home/coding && curl -L https://github.com/smiecj/docker-centos/tarball/master | tar xz \
    && code_folder=`ls -l | grep docker-centos | sed 's/.* //g'` && cd $code_folder \
    && cd scripts && sh init-system.sh ${ROOT_PWD} \
    && sh init-zookeeper.sh $MODE $PORT

EXPOSE 22 2181